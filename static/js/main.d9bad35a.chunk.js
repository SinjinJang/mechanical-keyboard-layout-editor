(this["webpackJsonpmechanical-keyboard-layout-editor"]=this["webpackJsonpmechanical-keyboard-layout-editor"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){},125:function(e,t,n){},127:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},154:function(e,t,n){},156:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),r=n.n(i),o=n(47),s=n(11),l=(n(114),n(115),n(21)),d=n(86),j=15,u=60;function b(e,t){return{x:e*u+j,y:t*u+j}}function h(e,t){return{width:e*u-2,height:t*u-2}}function x(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=0,c=0,i=Object(d.a)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.x+r.w;a=o>a?o:a;var s=r.y+r.h;c=s>c?s:c}}catch(l){i.e(l)}finally{i.f()}return{width:n?a:a*u+30,height:n?c:c*u+30}}n(74),n(116);var O=n(187),f=n(209),g=n(211),p=n(206),m=n(195),v=n(196),y=n(197),k=n(2);var _=function(e){var t=e.layoutState,n=e.selectedState,a=function(e){if(-1!==n.get()&&""!==e.target.value){var a=Number(e.target.value),c=Math.round(100*a)/100;if("selected-key-width"===e.target.id)t[n.get()].w.set(c);else{if("selected-key-height"!==e.target.id)return void console.log(">>>>> undefined id: "+e.target.id);t[n.get()].h.set(c)}}};return Object(k.jsx)("div",{className:"editpanel",children:Object(k.jsxs)("div",{className:"hbar__container",children:[Object(k.jsx)(O.a,{className:"hbar__item",children:Object(k.jsx)(f.a,{id:"selected-key-label",label:"Key Label",value:-1===n.get()?"":t[n.get()].label.get(),onChange:function(e){-1!==n.get()&&t[n.get()].label.set(e.target.value)}})}),Object(k.jsxs)(O.a,{className:"hbar__item",children:[Object(k.jsx)(g.a,{htmlFor:"select-key-width",children:"Width"}),Object(k.jsxs)(p.a,{native:!0,id:"selected-key-width",label:"Width",value:-1===n.get()?"":t[n.get()].w.get(),onChange:a,children:[Object(k.jsx)("option",{value:""}),Object(k.jsx)("option",{value:"1",children:"1U"}),Object(k.jsx)("option",{value:"1.25",children:"1.25U"}),Object(k.jsx)("option",{value:"1.5",children:"1.5U"}),Object(k.jsx)("option",{value:"1.75",children:"1.75U"}),Object(k.jsx)("option",{value:"2",children:"2U"}),Object(k.jsx)("option",{value:"2.25",children:"2.25U"}),Object(k.jsx)("option",{value:"2.75",children:"2.75U"}),Object(k.jsx)("option",{value:"6",children:"6U"}),Object(k.jsx)("option",{value:"6.25",children:"6.25U"}),Object(k.jsx)("option",{value:"6.5",children:"6.5U"}),Object(k.jsx)("option",{value:"7",children:"7U"})]})]}),Object(k.jsxs)(O.a,{className:"hbar__item",children:[Object(k.jsx)(g.a,{htmlFor:"select-key-height",children:"Height"}),Object(k.jsxs)(p.a,{native:!0,id:"selected-key-height",label:"Height",value:-1===n.get()?"":t[n.get()].h.get(),onChange:a,children:[Object(k.jsx)("option",{value:""}),Object(k.jsx)("option",{value:"1",children:"1U"}),Object(k.jsx)("option",{value:"2",children:"2U"})]})]}),Object(k.jsx)(m.a,{className:"hbar__item editpanel__imageicon",alt:"Add New Switch",onClick:function(){var e=x(t.get(),!0),n=e.width,a=e.height;t.merge([{label:"New Key",x:n,y:Math.max(a-1,0),w:1,h:1}])},children:Object(k.jsx)(v.a,{})}),Object(k.jsx)(m.a,{className:"hbar__item editpanel__imageicon",alt:"Remove Selected Switch",onClick:function(){-1!==n.get()&&(t[n.get()].set(l.a),n.set(-1))},children:Object(k.jsx)(y.a,{})})]})})},w=n(91),C=n.n(w);n(125);var S=function(e){var t=e.keyState,n=t.label,a=t.x,c=t.y,i=t.w,r=t.h,o=e.selectedState,s=o.get()===e.seq?"key-switch-selected":"";return Object(k.jsx)(C.a,{grid:[15,15],bounds:{left:j,top:j},position:b(a.get(),c.get()),onDrag:function(e,t){a.set((function(e){return e+t.deltaX/u})),c.set((function(e){return e+t.deltaY/u}))},children:Object(k.jsx)("div",{className:"key-switch ".concat(s),style:h(i.get(),r.get()),onClick:function(){o.set((function(t){return t===e.seq?-1:e.seq}))},children:n.get()})})},N=n(37),U=n.n(N),L=n(57),D=n(65),F=(n(127),n(205)),A=n(202),M=n(58),G=n.n(M),J=n(92),B=n.n(J),K=n(208),q=n(201),E=n(199),H=n(200),P=n(198),T=n(43);function z(e){var t=e.openState,n=e.onConfirm,a=Object(l.b)(""),c=Object(l.b)(!1),i=function(){t.set(!1)};return Object(k.jsx)("div",{children:Object(k.jsxs)(K.a,{open:t.get(),onClose:i,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(P.a,{id:"form-dialog-title",children:"Generate Model"}),Object(k.jsxs)(E.a,{children:[Object(k.jsx)(T.a,{children:"\uc0dd\uc131\ub41c \ubaa8\ub378 \ud30c\uc77c\uc744 \ubc1b\uc73c\uc2e4 \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."}),Object(k.jsx)(f.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,onChange:function(e){var t=e.target.value;c.set(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())),a.set(c.get()?t:"")}}),c.get()?"":Object(k.jsx)(H.a,{children:"\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4."})]}),Object(k.jsxs)(q.a,{children:[Object(k.jsx)(A.a,{onClick:i,color:"primary",children:"Cancel"}),Object(k.jsx)(A.a,{onClick:function(){c.get()&&(i(),n(a.get()))},color:"primary",children:"Generate"})]})]})})}var W=n(194),X=n(203),I=n(204);function Z(e){var t=e.dialogState,n=e.onSelect;return Object(k.jsxs)(K.a,{onClose:function(){t.open.set(!1)},"aria-labelledby":"simple-dialog-title",open:t.open.get(),children:[Object(k.jsx)(P.a,{id:"simple-dialog-title",children:"Choose Predefined Layout"}),Object(k.jsx)(W.a,{children:t.predefinedList.get().map((function(e,t){return Object(k.jsx)(X.a,{button:!0,onClick:function(){n(e)},children:Object(k.jsx)(I.a,{primary:e})},t)}))})]})}var R="https://aql0t45w22.execute-api.ap-northeast-2.amazonaws.com/prod";function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object(D.a)(Object(D.a)({},x(e,!0)),{},{layout:e,fmt:t,email_to:n})}var $=function(e){var t=e.layoutState,n=e.selectedState,a=Object(l.b)(!1),c=Object(l.b)({open:!1,fmt:""}),i=Object(l.b)({open:!1,predefinedList:[]}),r=function(){var e=Object(L.a)(U.a.mark((function e(){var t,n;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.set(!0),e.next=3,G.a.get("".concat(R,"/layouts"));case 3:t=e.sent,n=t.data.result,i.predefinedList.set(n),i.open.set(!0),a.set(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=Object(L.a)(U.a.mark((function e(c){var r,o;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.set(!0),e.next=3,G.a.get("".concat(R,"/layouts/").concat(c));case 3:r=e.sent,o=r.data.result,n.set(-1),t.set(o.layout),i.open.set(!1),a.set(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(e){a.get()?console.log("prevent duplicated click!"):(c.fmt.set(e),c.open.set(!0))},d=function(){var e=Object(L.a)(U.a.mark((function e(n){var i,r;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.set(!0),e.next=3,G.a.post("".concat(R,"/modeling"),Y(t.get(),c.fmt.get(),n));case 3:i=e.sent,r=i.data,console.log(r),a.set(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"layoutmenu",children:[a.get()?Object(k.jsx)("div",{className:"loading",children:Object(k.jsx)(F.a,{})}):"",Object(k.jsx)(z,{openState:c.open,onConfirm:d}),Object(k.jsx)(Z,{dialogState:i,onSelect:o}),Object(k.jsxs)("div",{className:"hbar__container",children:[Object(k.jsx)(A.a,{className:"hbar__item",variant:"outlined",color:"primary",onClick:r,children:"Predefined Layout"}),Object(k.jsx)(A.a,{className:"hbar__item",variant:"outlined",color:"primary",onClick:function(e){e.preventDefault();var a=document.createElement("input");a.setAttribute("type","file"),a.setAttribute("accept",".json"),a.onchange=function(e){var a=new FileReader;a.readAsBinaryString(e.target.files[0]),a.onloadend=function(){var e=JSON.parse(a.result).layout;n.set(-1),t.set(e)}},a.click()},children:"Upload Layout"}),Object(k.jsx)(A.a,{className:"hbar__item",variant:"outlined",color:"primary",onClick:function(){var e=JSON.stringify(Y(t.get()));B.a.saveAs(new Blob([e],{type:"text/json; charset=utf-8"}),"layout.json")},children:"Download Layout"}),Object(k.jsx)(A.a,{className:"hbar__item",variant:"contained",color:"primary",onClick:function(){return s("stl")},children:"Generate STL (3D)"}),Object(k.jsx)(A.a,{className:"hbar__item",variant:"contained",color:"primary",onClick:function(){return s("dxf")},children:"Generate DXF (2D)"})]})]})};var Q=function(){var e=Object(l.b)([{label:"New Key",w:1,h:1,x:0,y:0}]),t=Object(l.b)(-1),n=x(e.get(),!0);return Object(k.jsxs)("div",{children:[Object(k.jsx)($,{layoutState:e,selectedState:t}),Object(k.jsx)(_,{layoutState:e,selectedState:t}),Object(k.jsx)("div",{className:"key-plate",style:x(e.get()),children:e.map((function(e,n){return Object(k.jsx)(S,{seq:n,keyState:e,selectedState:t},n)}))}),Object(k.jsxs)("div",{className:"key-plate-info",children:[e.length," keys on ",n.width,"U x ",n.height,"U"]})]})};var V=function(){return Object(k.jsx)("div",{className:"home",children:Object(k.jsx)(Q,{})})},ee=(n(145),function(){return Object(k.jsx)("div",{className:"about",children:"about..."})}),te=(n(146),n(94)),ne=n(93),ae=n.n(ne);function ce(){var e=c.a.useState(!0),t=Object(te.a)(e,2),n=t[0],a=t[1],i=function(){a(!1)};return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{style:{position:"fixed",right:"5px",top:"5px"},children:Object(k.jsx)(m.a,{variant:"outlined",color:"default",onClick:function(){a(!0)},children:Object(k.jsx)(ae.a,{})})}),Object(k.jsxs)(K.a,{open:n,onClose:i,"aria-labelledby":"about-dialog-title","aria-describedby":"about-dialog-description",children:[Object(k.jsx)(P.a,{id:"about-dialog-title",children:"About This App"}),Object(k.jsxs)(E.a,{children:[Object(k.jsx)(H.a,{id:"about-dialog-description",children:"Mechanical Keyboard Layout Editor\uc740 \uae30\uacc4\uc2dd \ud0a4\ubcf4\ub4dc\ub97c DIY\ub85c \uc81c\uc791\ud558\uae30 \uc704\ud574 \ud0a4 \uc2a4\uc704\uce58\ub97c \uc0ac\uc6a9\uc790\uac00 \uc6d0\ud558\ub294 \ub300\ub85c \ubc30\uce58\ud558\uace0 \uc774\ub97c 3D\ud504\ub9b0\ud130(\ub610\ub294 CNC\uc870\uac01\uae30)\ub85c \ucd9c\ub825\ud560 \uc218 \uc788\ub3c4\ub85d STL \ud615\uc2dd\uc758 3D \ubaa8\ub378\ub9c1 \ub610\ub294 DXF \ud615\uc2dd\uc758 2D \ubaa8\ub378\ub9c1 \ud30c\uc77c\uc744 \uc0dd\uc131\ud574\uc90d\ub2c8\ub2e4."}),Object(k.jsx)(H.a,{id:"about-dialog-description",children:"\uc0dd\uc131\ub418\ub294 \ubaa8\ub378\ub9c1 \ud30c\uc77c\uc758 \uc885\ub958\ub294 1) \ud0a4 \uc2a4\uc704\uce58\ub97c \uaf42\uc744 \uc218 \uc788\ub294 \ubcf4\uac15\ud310 2) PCB \uc6a9\ub3c4\uc758 \ud558\ud310 3) \ucf00\uc774\uc2a4 \uc785\ub2c8\ub2e4. \ud0a4 \uc2a4\uc704\uce58, \uc2a4\ud14c\ube4c\ub77c\uc774\uc800 \ubc0f \ud0a4\ucea1\uc740 \uae30\uc131\ud488\uc744 \uad6c\ub9e4\ud558\uc5ec \uc870\ub9bd\uc774 \ud544\uc694\ud558\uba70 Cherry MX, Kailh \uc2a4\uc704\uce58 \ub4f1\uc774 \ud638\ud658\ub429\ub2c8\ub2e4."}),Object(k.jsx)(H.a,{id:"about-dialog-description",children:"\uc0ac\uc6a9\uc790\uac00 \ub514\uc790\uc778\ud55c \ud0a4 \ub808\uc774\uc544\uc6c3 \ubc0f \ubaa8\ub378\ub9c1\uc758 \uc18c\uc720\uad8c\uc740 \ubaa8\ub450 \uc774\ub97c \ub514\uc790\uc778\ud55c \uc0ac\uc6a9\uc790\uc5d0\uac8c \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c, \uc0dd\uc131\ub41c 3D \ubaa8\ub378\ub9c1 \ud30c\uc77c\ub85c \ucd9c\ub825 \uc2dc \ubc1c\uc0dd\ud560 \uc218 \uc788\ub294 \ubaa8\ub4e0 \ubb38\uc81c\ub294 \uc0ac\uc6a9\uc790\uc5d0\uac8c \ucc45\uc784\uc774 \uc788\uc2b5\ub2c8\ub2e4. \uc81c\uac00 \ucc38\uace0\ud55c \ud0a4 \uc2a4\uc704\uce58 \ubc0f \uc2a4\ud14c\ube4c\ub77c\uc774\uc800\uc5d0 \ub9de\ub3c4\ub85d \uc124\uacc4\uac00 \ub418\uc5c8\uc73c\ubbc0\ub85c \ub2e4\ub978 \ubd80\ud488\uacfc\ub294 \ud638\ud658\uc774 \ub418\uc9c0 \uc54a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),Object(k.jsxs)(H.a,{id:"about-dialog-description",children:["\ubc1c\uacac\ud558\uc2e0 \uc774\uc288 \ubc0f \uac1c\uc120 \uc0ac\ud56d, \ub610\ub294 \ubb38\uc758 \uc0ac\ud56d\uc774 \uc788\uc73c\uc2dc\uba74,\xa0",Object(k.jsx)("a",{href:"https://github.com/SinjinJang/mechanical-keyboard-layout-editor",target:"_blank",children:"GitHub issue"}),"\xa0\ud639\uc740\xa0",Object(k.jsx)("a",{href:"mailto:sinjin.jang0.gmail.com",children:"e-mail"}),"\ub85c \uc54c\ub824\uc8fc\uc138\uc694."]}),Object(k.jsxs)(H.a,{id:"about-dialog-description",children:[Object(k.jsx)("p",{children:"\uc774\uc288 \uc0ac\ud56d:"}),Object(k.jsx)("ul",{children:Object(k.jsxs)("li",{children:["2022/10/04: ",Object(k.jsx)("u",{children:"\ubb34\ub8cc \uc11c\ubc84 \uc0ac\uc6a9\uc73c\ub85c \uc778\ud55c \uc81c\uc57d \uc0ac\ud56d"}),Object(k.jsxs)("ul",{children:[Object(k.jsxs)("li",{children:["\uc11c\ubc84 \uc0ac\uc591\uc774 \ub0ae\uc544 \ub9ce\uc740 \ud0a4\ub4e4\uc744 \ubc30\uce58\ud55c \ub3c4\uba74\uc740 ",Object(k.jsx)("b",{children:"\uc0dd\uc131 \uc791\uc5c5\uc774 \uc624\ub798"})," \uac78\ub9bd\ub2c8\ub2e4. (layout-full \uae30\uc900 \uc57d 30\ubd84)"]}),Object(k.jsx)("li",{children:"\uc704 \ucc98\ub9ac \uc2dc\uac04 \ubc0f \ub3c4\uba74 \uc0dd\uc131 \uc2dc\uac04\uc744 \ucc38\uace0\ud558\uc5ec \uc0ac\uc6a9\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."})]})]})})]})]}),Object(k.jsx)(q.a,{children:Object(k.jsx)(A.a,{onClick:i,color:"primary",autoFocus:!0,children:"Close"})})]})]})}var ie=function(){return Object(k.jsxs)("header",{children:[Object(k.jsx)("p",{className:"app_name",children:"Mechanical Keyboard Layout Editor"}),Object(k.jsx)(ce,{})]})};n(151);var re=function(){return Object(k.jsxs)("footer",{className:"footer",children:[Object(k.jsxs)("div",{className:"footer__item",children:["Copyright\xa92021 Sinjin Jang",Object(k.jsx)("br",{}),"All rights reserved."]}),Object(k.jsxs)("div",{className:"footer__item",children:["Get source code of this app:",Object(k.jsx)("br",{}),Object(k.jsx)("a",{href:"https://github.com/SinjinJang/mechanical-keyboard-layout-editor",target:"_blank",children:"mechanical-keyboard-layout-editor on GitHub"})]}),Object(k.jsxs)("div",{className:"footer__item",children:[Object(k.jsx)("a",{href:"https://donaricano.com/mypage/1722367584_zHWZl2",target:"_blank",children:"\ub3c4\ub124\ub9ac\uce74\ub178 \ucee4\ud53c \ud6c4\uc6d0"}),Object(k.jsx)("br",{}),Object(k.jsx)("a",{href:"https://www.buymeacoffee.com/sinjin0",target:"_blank",children:"Buy Me a Coffee"})]})]})},oe=(n(152),function(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(ie,{}),Object(k.jsxs)(o.a,{children:[Object(k.jsx)(s.a,{exact:!0,path:"/",component:V}),Object(k.jsx)(s.a,{path:"/about",component:ee})]}),Object(k.jsx)(re,{})]})}),se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,213)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};n(154),n(155);r.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(oe,{})}),document.getElementById("root")),se()},74:function(e,t,n){}},[[156,1,2]]]);
//# sourceMappingURL=main.d9bad35a.chunk.js.map