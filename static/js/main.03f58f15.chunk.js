(this["webpackJsonpmechanical-keyboard-layout-editor"]=this["webpackJsonpmechanical-keyboard-layout-editor"]||[]).push([[0],{27:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(11),l=a.n(i),s=(a(27),a(28),a(8)),r=a(20),o=15,d=60;function j(e,t){return{x:e*d+o,y:t*d+o}}function h(e,t){return{width:e*d-2,height:t*d-2}}function u(e){var t,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,c=0,i=Object(r.a)(e);try{for(i.s();!(t=i.n()).done;){var l=t.value,s=l.x+l.w;n=s>n?s:n;var o=l.y+l.h;c=o>c?o:c}}catch(j){i.e(j)}finally{i.f()}return{width:a?n:n*d+30,height:a?c:c*d+30}}var b=a(16),g=a(22),O=(a(30),a(9)),f=a(6),x=a.p+"static/media/add_circle_outline_black_24dp.b4a78441.svg",m=a.p+"static/media/remove_circle_outline_black_24dp.1bfeccf5.svg",p=a(1);var v=function(e){var t=e.layoutState,a=e.selectedState,n=function(e){if(-1!==a.get()){var n=Number(e.target.value);if("width"===e.target.id)t[a.get()].w.set(n);else{if("height"!==e.target.id)return void console.log(">>>>> undefined id: "+e.target.id);t[a.get()].h.set(n)}}};return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"editpanel__container",children:[Object(p.jsxs)(f.a.Group,{controlId:"uploadLayout",className:"editpanel__item",children:[Object(p.jsx)(f.a.Label,{children:"Layout File to Upload"}),Object(p.jsx)(f.a.File,{id:"layoutFile",type:"file",accept:".json",onChange:function(e){var n=new FileReader;n.readAsBinaryString(e.target.files[0]),n.onloadend=function(){var e=JSON.parse(n.result);Object.entries(e.layout).map((function(e){var t=Object(g.a)(e,2),a=(t[0],t[1]);a.w="w"in a?a.w:1,a.h="h"in a?a.h:1})),t.set(e.layout),a.set(-1)}}})]}),Object(p.jsx)(O.a,{className:"editpanel__item",variant:"outline-secondary",download:"layout.json",href:"data:text/json; charset=utf-8,"+JSON.stringify(Object(b.a)(Object(b.a)({},u(t.get(),!0)),{},{layout:t.get()})),children:"Download Layout"}),Object(p.jsx)(O.a,{className:"editpanel__item",variant:"outline-success",onClick:function(){return alert("TODO: generate 3D/2D model")},children:"Generate 3D/2D Model"})]}),Object(p.jsxs)("div",{className:"editpanel__container",children:[Object(p.jsxs)(f.a.Group,{controlId:"keyLabel",className:"editpanel__item",children:[Object(p.jsx)(f.a.Label,{children:"Key Label"}),Object(p.jsx)(f.a.Control,{type:"text",name:"key_label",value:-1===a.get()?"":t[a.get()].label.get(),onChange:function(e){-1!==a.get()&&t[a.get()].label.set(e.target.value)}})]}),Object(p.jsxs)(f.a.Group,{controlId:"width",className:"editpanel__item",children:[Object(p.jsx)(f.a.Label,{children:"Width"}),Object(p.jsxs)(f.a.Control,{as:"select",name:"key_width",value:-1===a.get()?"1":t[a.get()].w.get(),onChange:n,children:[Object(p.jsx)("option",{value:"1",children:"1U"}),Object(p.jsx)("option",{value:"1.25",children:"1.25U"}),Object(p.jsx)("option",{value:"1.5",children:"1.5U"}),Object(p.jsx)("option",{value:"1.75",children:"1.75U"}),Object(p.jsx)("option",{value:"2",children:"2U"}),Object(p.jsx)("option",{value:"2.25",children:"2.25U"}),Object(p.jsx)("option",{value:"2.75",children:"2.75U"})]})]}),Object(p.jsxs)(f.a.Group,{controlId:"height",className:"editpanel__item",children:[Object(p.jsx)(f.a.Label,{children:"Height"}),Object(p.jsxs)(f.a.Control,{as:"select",name:"key_height",value:-1===a.get()?"1":t[a.get()].h.get(),onChange:n,children:[Object(p.jsx)("option",{value:"1",children:"1U"}),Object(p.jsx)("option",{value:"2",children:"2U"})]})]}),Object(p.jsx)(O.a,{className:"editpanel__item",variant:"outline-light",children:Object(p.jsx)("img",{className:"editpanel__imageicon",alt:"Add New Switch",src:x,onClick:function(){var e=u(t.get(),!0),a=e.width,n=e.height;t.merge([{label:"New Key",x:a,y:Math.max(n-1,0),w:1,h:1}])}})}),Object(p.jsx)(O.a,{className:"editpanel__item",variant:"outline-light",children:Object(p.jsx)("img",{className:"editpanel__imageicon",alt:"Remove Selected Switch",src:m,onClick:function(){-1!==a.get()&&(t[a.get()].set(s.a),a.set(-1))}})})]})]})},y=a(21),_=a.n(y);a(38);var w=function(e){var t=e.keyState,a=t.label,n=t.x,c=t.y,i=t.w,l=t.h,s=e.selectedState,r=s.get()===e.seq?"key-switch-selected":"";return Object(p.jsx)(_.a,{grid:[15,15],bounds:{left:o,top:o},position:j(n.get(),c.get()),onDrag:function(e,t){n.set((function(e){return e+t.deltaX/d})),c.set((function(e){return e+t.deltaY/d}))},children:Object(p.jsx)("div",{className:"key-switch ".concat(r),style:h(i.get(),l.get()),onClick:function(){s.set((function(t){return t===e.seq?-1:e.seq}))},children:a.get()})})};var k=function(){var e=Object(s.b)([{label:"Key 1",w:1,h:1,x:0,y:0}]),t=Object(s.b)(-1);return Object(p.jsxs)("div",{children:[Object(p.jsx)(v,{layoutState:e,selectedState:t}),Object(p.jsx)("div",{className:"key-plate",style:u(e.get()),children:e.map((function(e,a){return Object(p.jsx)(w,{seq:a,keyState:e,selectedState:t},a)}))})]})};a(39);var N=function(){return Object(p.jsx)("header",{children:Object(p.jsx)("p",{class:"app_name",children:"Mechanical Keyboard Layout Editor"})})};a(40);var S=function(){return Object(p.jsxs)("footer",{className:"footer",children:[Object(p.jsxs)("div",{className:"footer__item",children:["Copyright\xa92021 Sinjin Jang",Object(p.jsx)("br",{}),"All rights reserved."]}),Object(p.jsxs)("div",{className:"footer__item",children:["Get source code of this app:",Object(p.jsx)("br",{}),Object(p.jsx)("a",{href:"https://github.com/SinjinJang/mechanical-keyboard-layout-editor",target:"_blank",children:"mechanical-keyboard-layout-editor on GitHub"})]}),Object(p.jsxs)("div",{className:"footer__item",children:[Object(p.jsx)("a",{href:"https://donaricano.com/mypage/1722367584_zHWZl2",target:"_blank",children:"\ub3c4\ub124\ub9ac\uce74\ub178 \ucee4\ud53c \ud6c4\uc6d0"}),Object(p.jsx)("br",{}),Object(p.jsx)("a",{href:"https://www.buymeacoffee.com/sinjin0",target:"_blank",children:"Buy Me a Coffee"})]})]})};var C=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)(N,{}),Object(p.jsx)(k,{}),Object(p.jsx)(S,{})]})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;a(e),n(e),c(e),i(e),l(e)}))};a(41),a(42);l.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(C,{})}),document.getElementById("root")),L()}},[[43,1,2]]]);
//# sourceMappingURL=main.03f58f15.chunk.js.map